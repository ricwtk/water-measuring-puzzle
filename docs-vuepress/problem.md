# Problem

You are given 3 buckets with the size of 8, 5, and 3. Initially all the buckets are unfilled. A tap with unlimited source of water is available, from which means you can fill the buckets with water. A drain is available, you can pour away unlimited amount of water from the buckets.

<svg viewBox="-10 -10 1390 685" width="100%">
  <style>
    .size-label { font-size: 60px }
    .filled-label { font-size: 45px }
  </style> 
  <svg viewBox="0 0 218.183 218.183" width="200" height="200" x="0" y="0"><path id="body" d="M135.634,109.124v12.088h-12.401c-2.233,0-4.04,1.809-4.04,4.04c0,2.231,1.807,4.04,4.04,4.04h12.401h48.485h13.861
          c2.233,0,4.04-1.809,4.04-4.04c0-2.231-1.807-4.04-4.04-4.04h-13.861v-36.37c0-20.048-16.323-36.358-36.387-36.358h-42.68V28.283
          h32.323V14.141C137.374,6.345,131.029,0,123.232,0H78.788c-7.797,0-14.141,6.345-14.141,14.141v14.141H96.97v20.202H12.121V96.97
          h111.364C130.185,96.97,135.634,102.423,135.634,109.124z M72.727,20.202v-6.061c0-3.342,2.719-6.061,6.061-6.061h44.444
          c3.342,0,6.061,2.719,6.061,6.061v6.061H72.727z M20.202,56.566h127.529c15.609,0,28.307,12.685,28.307,28.277v36.37h-32.323
          v-12.088c0-11.158-9.075-20.236-20.23-20.236H20.202V56.566z"></path> <path id="middle-water" d="M157.576,135.354c-2.233,0-4.04,1.809-4.04,4.04v74.747c0,2.231,1.807,4.04,4.04,4.04c2.233,0,4.04-1.809,4.04-4.04
          v-74.747C161.616,137.163,159.809,135.354,157.576,135.354z" fill="#42A5F5"></path> <path id="left-water" d="M138.621,135.551c-2.135-0.684-4.403,0.478-5.09,2.596l-24.242,74.747c-0.691,2.123,0.474,4.402,2.596,5.09
          c0.414,0.134,0.836,0.199,1.247,0.199c1.705,0,3.291-1.087,3.843-2.796l24.242-74.747
          C141.908,138.518,140.744,136.239,138.621,135.551z" fill="#42A5F5"></path> <path id="right-water" d="M205.864,210.874l-24.242-74.747c-0.686-2.119-2.947-3.285-5.09-2.596c-2.123,0.688-3.287,2.967-2.596,5.09
          l24.242,74.747c0.552,1.709,2.139,2.796,3.843,2.796c0.411,0,0.833-0.065,1.247-0.199
          C205.39,215.276,206.554,212.997,205.864,210.874z" fill="#42A5F5"></path> <path id="middle-right-water" d="M177.714,177.075c-0.386-2.195-2.481-3.667-4.679-3.277c-2.198,0.389-3.665,2.484-3.275,4.682l6.061,34.343
          c0.343,1.959,2.048,3.338,3.973,3.338c0.233,0,0.469-0.02,0.706-0.061c2.198-0.389,3.665-2.484,3.275-4.682L177.714,177.075z" fill="#42A5F5"></path> <path id="middle-left-water" d="M142.116,173.798c-2.202-0.389-4.297,1.081-4.68,3.277l-6.061,34.343c-0.391,2.198,1.077,4.293,3.275,4.682
          c0.237,0.042,0.474,0.061,0.707,0.061c1.926,0,3.63-1.379,3.973-3.338l6.061-34.343
          C145.782,176.282,144.314,174.187,142.116,173.798z" fill="#42A5F5"></path></svg> <svg viewBox="-10 0 340 390" width="340" height="390" x="200" y="200"><path id="top-body" d="M10,10m-10,-10
        h10
        h300
        h10
        c10 0,10 0,10 10
        v10
        v30
        v10
        c0 10,0 10,-10 10
        h-10
        h-300
        h-10
        c-10 0,-10 0,-10,-10
        v-10
        v-30
        v-10
        c0 -10,0 -10,10,-10
        z" fill="#6D4C41"></path> <path id="top-frame" d="M10,10
        h300
        c10 0,10 0,10 10
        v30
        c0 10,0 10,-10 10
        h-50
        c-10 0,-10 10,0 10
        h50
        h10
        c10 0,10 0,10 -10
        v-10
        v-30
        v-10
        c0 -10,0 -10,-10 -10
        h-10
        h-300
        h-10
        c-10 0,-10 0,-10 10
        v10
        v30
        v10
        c0 10,0 10,10 10
        h10
        h175
        c10 0,10 -10,0 -10
        h-175
        c-10 0,-10 0,-10 -10
        v-30
        c0 -10,0 -10,10 -10
        z"></path> <path id="bottom-frame" d="M10,10m0,10m0,30m0,10m0,10
        v300
        v10
        c0 10,0 10,10 10
        h10
        h260
        h10
        c10 0,10 0,10 -10
        v-10
        v-300
        h-10
        v300
        c0 10,0 10,-10 10
        h-260
        c-10 0,-10 0,-10 -10
        v-300z"></path> <!----></svg><svg viewBox="-10 0 283.75 313.84615384615387" width="283.75" height="313.84615384615387" x="590" y="276.15384615384613"><path id="top-body" d="M10,10m-10,-10
        h10
        h243.75
        h10
        c10 0,10 0,10 10
        v10
        v23.07692307692308
        v10
        c0 10,0 10,-10 10
        h-10
        h-243.75
        h-10
        c-10 0,-10 0,-10,-10
        v-10
        v-23.07692307692308
        v-10
        c0 -10,0 -10,10,-10
        z" fill="#6D4C41"></path> <path id="top-frame" d="M10,10
        h243.75
        c10 0,10 0,10 10
        v23.07692307692308
        c0 10,0 10,-10 10
        h-40.625
        c-10 0,-10 10,0 10
        h40.625
        h10
        c10 0,10 0,10 -10
        v-10
        v-23.07692307692308
        v-10
        c0 -10,0 -10,-10 -10
        h-10
        h-243.75
        h-10
        c-10 0,-10 0,-10 10
        v10
        v23.07692307692308
        v10
        c0 10,0 10,10 10
        h10
        h142.1875
        c10 0,10 -10,0 -10
        h-142.1875
        c-10 0,-10 0,-10 -10
        v-23.07692307692308
        c0 -10,0 -10,10 -10
        z"></path> <path id="bottom-frame" d="M10,10m0,10m0,23.07692307692308m0,10m0,10
        v230.76923076923077
        v10
        c0 10,0 10,10 10
        h10
        h203.75
        h10
        c10 0,10 0,10 -10
        v-10
        v-230.76923076923077
        h-10
        v230.76923076923077
        c0 10,0 10,-10 10
        h-203.75
        c-10 0,-10 0,-10 -10
        v-230.76923076923077z"></path> <!----></svg><svg viewBox="-10 0 246.25 240" width="246.25" height="240" x="923.75" y="350"><path id="top-body" d="M10,10m-10,-10
        h10
        h206.25
        h10
        c10 0,10 0,10 10
        v10
        v16.363636363636363
        v10
        c0 10,0 10,-10 10
        h-10
        h-206.25
        h-10
        c-10 0,-10 0,-10,-10
        v-10
        v-16.363636363636363
        v-10
        c0 -10,0 -10,10,-10
        z" fill="#6D4C41"></path> <path id="top-frame" d="M10,10
        h206.25
        c10 0,10 0,10 10
        v16.363636363636363
        c0 10,0 10,-10 10
        h-34.375
        c-10 0,-10 10,0 10
        h34.375
        h10
        c10 0,10 0,10 -10
        v-10
        v-16.363636363636363
        v-10
        c0 -10,0 -10,-10 -10
        h-10
        h-206.25
        h-10
        c-10 0,-10 0,-10 10
        v10
        v16.363636363636363
        v10
        c0 10,0 10,10 10
        h10
        h120.31250000000001
        c10 0,10 -10,0 -10
        h-120.31250000000001
        c-10 0,-10 0,-10 -10
        v-16.363636363636363
        c0 -10,0 -10,10 -10
        z"></path> <path id="bottom-frame" d="M10,10m0,10m0,16.363636363636363m0,10m0,10
        v163.63636363636363
        v10
        c0 10,0 10,10 10
        h10
        h166.25
        h10
        c10 0,10 0,10 -10
        v-10
        v-163.63636363636363
        h-10
        v163.63636363636363
        c0 10,0 10,-10 10
        h-166.25
        c-10 0,-10 0,-10 -10
        v-163.63636363636363z"></path> <!----></svg> <text text-anchor="middle" dominant-baseline="hanging" x="370" y="590" class="size-label">8</text><text text-anchor="middle" dominant-baseline="hanging" x="731.875" y="590" class="size-label">5</text><text text-anchor="middle" dominant-baseline="hanging" x="1046.875" y="590" class="size-label">3</text> <text text-anchor="middle" dominant-baseline="baseline" x="370" y="575" class="filled-label">0</text><text text-anchor="middle" dominant-baseline="baseline" x="731.875" y="575" class="filled-label">0</text><text text-anchor="middle" dominant-baseline="baseline" x="1046.875" y="575" class="filled-label">0</text> <svg viewBox="0 0 480 480" width="150" height="150" x="1220" y="515"><path id="outer-frame" d="m440 0h-400c-22.082031.0273438-39.9726562 17.917969-40 40v400c.0273438 22.082031 17.917969 39.972656 40 40h400c22.082031-.027344 39.972656-17.917969 40-40v-400c-.027344-22.082031-17.917969-39.9726562-40-40zm24 440c0 13.253906-10.746094 24-24 24h-400c-13.253906 0-24-10.746094-24-24v-400c0-13.253906 10.746094-24 24-24h400c13.253906 0 24 10.746094 24 24zm0 0"></path> <path id="inner-frame" d="m240 48c-106.039062 0-192 85.960938-192 192s85.960938 192 192 192 192-85.960938 192-192c-.125-105.988281-86.011719-191.875-192-192zm0 368c-97.203125 0-176-78.796875-176-176s78.796875-176 176-176 176 78.796875 176 176c-.109375 97.15625-78.84375 175.890625-176 176zm0 0"></path> <path id="ne-circle" d="m424 32c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24 24-10.746094 24-24-10.746094-24-24-24zm0 32c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8 8 3.582031 8 8-3.582031 8-8 8zm0 0"></path> <path id="nw-circle" d="m56 80c13.253906 0 24-10.746094 24-24s-10.746094-24-24-24-24 10.746094-24 24 10.746094 24 24 24zm0-32c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8-8-3.582031-8-8 3.582031-8 8-8zm0 0"></path> <path id="se-circle" d="m424 400c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24 24-10.746094 24-24-10.746094-24-24-24zm0 32c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8 8 3.582031 8 8-3.582031 8-8 8zm0 0"></path> <path id="sw-circle" d="m56 400c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24 24-10.746094 24-24-10.746094-24-24-24zm0 32c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8 8 3.582031 8 8-3.582031 8-8 8zm0 0"></path> <path id="middle-north" d="m120 232h240c13.253906 0 24-10.746094 24-24s-10.746094-24-24-24h-240c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24zm0-32h240c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8h-240c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8zm0 0"></path> <path id="north" d="m144 168h192c13.253906 0 24-10.746094 24-24s-10.746094-24-24-24h-192c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24zm0-32h192c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8h-192c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8zm0 0"></path> <path id="middle-south" d="m360 248h-240c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24h240c13.253906 0 24-10.746094 24-24s-10.746094-24-24-24zm0 32h-240c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8h240c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8zm0 0"></path> <path id="south" d="m336 312h-192c-13.253906 0-24 10.746094-24 24s10.746094 24 24 24h192c13.253906 0 24-10.746094 24-24s-10.746094-24-24-24zm0 32h-192c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8h192c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8zm0 0"></path></svg>
</svg>

Every time you fill a bucket with the tap, the bucket will be filled up completely. When you pour from a bucket to the drain, the bucket will be completely emptied. When you pour from bucket *A* to bucket *B*, bucket *B* will take as much water from bucket *A* until bucket *B* is filled up. The amount of water in bucket *A* that cannot be poured into bucket *B* will remain in bucket *A*.

The aim of these pouring actions is to obtain the water amount of 4 in one of the buckets.

*Note that the number of buckets, the sizes of the buckets, the initial fill of each bucket, the avaialbility of unlimited source (tap), and the availability of sink (drain), and the target amount of the water should not be considered as hardcoded values, i.e. they can be changed from problem to problem.*